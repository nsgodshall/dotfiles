# ============================================================================
# tmux Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Terminal and Colors
# ----------------------------------------------------------------------------
set -g default-terminal "tmux-256color"
set -as terminal-overrides ',xterm-256color:RGB'
set -as terminal-overrides ',*256col*:Tc'
set -g focus-events on

# ----------------------------------------------------------------------------
# Mouse and Clipboard
# ----------------------------------------------------------------------------
set -g mouse on
setw -g mode-keys vi

# ----------------------------------------------------------------------------
# Timing
# ----------------------------------------------------------------------------
set -g escape-time 0
set -g repeat-time 600

# ----------------------------------------------------------------------------
# Window and Pane Indexing
# ----------------------------------------------------------------------------
set -g base-index 1              # Start windows at 1 instead of 0
setw -g pane-base-index 1       # Start panes at 1 instead of 0
setw -g automatic-rename on     # Rename window to reflect current program
set -g renumber-windows on       # Renumber windows when one is closed

# ----------------------------------------------------------------------------
# Pane Splitting
# ----------------------------------------------------------------------------
# Split panes using | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# ----------------------------------------------------------------------------
# Vi Mode Copy
# ----------------------------------------------------------------------------
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi r send-keys -X rectangle-toggle

# Use vim-like keys for copy mode
bind -T copy-mode-vi h send-keys -X cursor-left
bind -T copy-mode-vi j send-keys -X cursor-down
bind -T copy-mode-vi k send-keys -X cursor-up
bind -T copy-mode-vi l send-keys -X cursor-right

# ----------------------------------------------------------------------------
# Window Navigation
# ----------------------------------------------------------------------------
# Use vim-like keys for window navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use vim-like keys for window switching
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

bind-key b last-window

# ----------------------------------------------------------------------------
# Pane Resizing
# ----------------------------------------------------------------------------
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ----------------------------------------------------------------------------
# History
# ----------------------------------------------------------------------------
set -g history-limit 10000

# ----------------------------------------------------------------------------
# Activity Monitoring
# ----------------------------------------------------------------------------
setw -g monitor-activity on
set -g visual-activity on
set -g visual-bell off
set -g bell-action none

# ----------------------------------------------------------------------------
# Status Bar
# ----------------------------------------------------------------------------
set -g status-position bottom
set -g status-style 'bg=#262626 fg=#ffffff'
set -g status-left-length 40
set -g status-right-length 80

# Left side
set -g status-left '#[fg=gray,bold]#S '

# Right side
set -g status-right '#[fg=yellow]%Y-%m-%d #[fg=white]%H:%M:%S #[fg=blue]#(whoami)@#h'

# Window status
# Inactive windows
setw -g window-status-format ' #I:#W '
# Active/current window - highlighted in green
# setw -g window-status-current-format ' #[fg=black,bg=green,bold] #I:#W #[fg=green,bg=#262626]'
# Alternative: green text on dark background (uncomment if you prefer)
setw -g window-status-current-format ' #[fg=green,bold] #I:#W '

# ----------------------------------------------------------------------------
# Other Options
# ----------------------------------------------------------------------------
# Increase scrollback buffer
set -g history-limit 10000

# Aggressive resize
setw -g aggressive-resize on

# Focus events (for vim)
set -g focus-events on

# ----------------------------------------------------------------------------
# Plugins (if using TPM - tmux plugin manager)
# ----------------------------------------------------------------------------
# Uncomment if you use TPM:
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'
# 
# # Initialize TPM (keep this line at the very bottom of tmux.conf)
# run '~/.tmux/plugins/tpm/tpm'

